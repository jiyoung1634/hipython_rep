<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>AutoCarz Dashboard</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 20px;
      }
      .section {
        margin-bottom: 30px;
      }
      video,
      #tmap,
      #kakaomap {
        width: 100%;
        height: 300px;
        border: 1px solid #ccc;
        border-radius: 8px;
      }
      button {
        padding: 10px 15px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <h1>:ìë™ì°¨: AutoCarz ëŒ€ì‹œë³´ë“œ</h1>
    <!-- :ë¹¨ê°„ìƒ‰_ì›: ì¹´ë©”ë¼ ë¯¸ë¦¬ë³´ê¸° -->
    <div class="section">
      <h2>ì¹´ë©”ë¼ ë¯¸ë¦¬ë³´ê¸°</h2>
      <video id="camera" autoplay muted></video>
      <br />
      <button onclick="toggleCamera()">ì¹´ë©”ë¼ On/Off</button>
    </div>
    <!-- ğŸ—º Tmap ì§€ë„ -->
    <div class="section">
      <h2>Tmap - í˜„ì¬ ìœ„ì¹˜</h2>
      <div id="tmap"></div>
    </div>
    <!-- ğŸ—º ì¹´ì¹´ì˜¤ë§µ ì§€ë„ -->
    <div class="section">
      <h2>ì¹´ì¹´ì˜¤ë§µ - í˜„ì¬ ìœ„ì¹˜</h2>
      <div id="kakaomap"></div>
    </div>
    <!-- :ì¹´ë©”ë¼: ì¹´ë©”ë¼ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
      let stream = null;
      async function toggleCamera() {
        const video = document.getElementById("camera");
        if (!stream) {
          try {
            stream = await navigator.mediaDevices.getUserMedia({ video: true });
            video.srcObject = stream;
          } catch (e) {
            alert("ì¹´ë©”ë¼ ì ‘ê·¼ì´ ì°¨ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.");
          }
        } else {
          stream.getTracks().forEach((track) => track.stop());
          video.srcObject = null;
          stream = null;
        }
      }
    </script>
    <!-- Tmap API ë¡œë”© -->
    <script
      src="https://apis.openapi.sk.com/tmap/jsv2?version=1&appKey=YOUR_TMAP_APPKEY"
      onload="initTmap()"
    ></script>
    <script>
      function initTmap() {
        navigator.geolocation.getCurrentPosition((pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const map = new Tmapv2.Map("tmap", {
            center: new Tmapv2.LatLng(lat, lon),
            width: "100%",
            height: "300px",
            zoom: 15,
          });
          new Tmapv2.Marker({ position: new Tmapv2.LatLng(lat, lon), map: map });
        });
      }
    </script>
    <!-- Kakao Map API ë¡œë”© -->
    <script
      src="//dapi.kakao.com/v2/maps/sdk.js?appkey=b5c1b666e3b588322ecfda80d1e96c30&autoload=false"
      onload="kakao.maps.load(initKakaoMap);"
    ></script>
    <script>
      function initKakaoMap() {
        navigator.geolocation.getCurrentPosition((pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const container = document.getElementById("kakaomap");
          const options = {
            center: new kakao.maps.LatLng(lat, lon),
            level: 3,
          };
          const map = new kakao.maps.Map(container, options);
          new kakao.maps.Marker({
            position: new kakao.maps.LatLng(lat, lon),
            map: map,
          });
        });
      }
    </script>
  </body>
</html>